apply plugin: 'com.android.library'

def cfgFile = new File(project.rootDir, 'publish.properties')
if (cfgFile.exists()) {
    apply plugin: 'com.mobilesolutionworks.bintray-publish'
}

group 'com.mobilesolutionworks'
version '1.2.0'

android {
    compileSdkVersion 23
    buildToolsVersion '23.0.2'

    defaultConfig {
        minSdkVersion 14
        versionName version
    }

    buildTypes {
        debug {

        }

        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile project(':codex-annotations')
}

if (cfgFile.exists()) {
    worksPublish {
        bintray {
            repo = 'maven'
            name = group + ':codex'
        }

        developer {
            id = 'yunarta'
            name = 'Yunarta Kartawahyudi'
            email = 'yunarta.kartawahyudi@gmail.com'
        }

        siteUrl = 'https://github.com/yunarta/works-codex-android'
        gitUrl = 'https://github.com/yunarta/works-codex-android.git'
    }
}